const h=s=>({days:s.days,hours:s.hours,minutes:s.minutes,seconds:s.seconds,expires:s.expires,interval:null,timer:{},init(){this.expires=new Date(this.expires*1e3).getTime(),this.timer={days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds},this.start()},formatCounter(e){return e.toString().padStart(2,"0")},start(){this.interval=setInterval(()=>{const e=this.expires-new Date().getTime();if(e<0){clearInterval(this.interval),this.$dispatch("timer-finished");return}this.timer.days=this.formatCounter(Math.floor(e/864e5)),this.timer.hours=this.formatCounter(Math.floor(e%864e5/36e5)),this.timer.minutes=this.formatCounter(Math.floor(e%36e5/6e4)),this.timer.seconds=this.formatCounter(Math.floor(e%6e4/1e3))},1e3)}});let a;const d='.dropdown-item:not([disabled]), [role="menuitem"]:not([disabled])',r=(s,e)=>{try{const t=s.offsetTop;e.scrollTop=t||0,s.focus({preventScroll:!0})}catch{}},c=s=>({open:!1,fixed:s.fixed||!1,disabled:s.disabled||!1,placement:s.placement||"bottom-start",offset:s.offset,focusedIndex:-1,focusableElements:null,_root:null,_popper:null,get trigger(){return this.$refs.trigger?this.$refs.trigger:this._root.querySelector('[x-ref="trigger"]')},get menu(){return this.$refs.menu?this.$refs.menu:this._root.querySelector('[x-ref="menu"]')},init(){if(this._root=this.$root,a=window.Popper?window.Popper.createPopper:window.createPopper,typeof a!="function")throw new TypeError("<x-dropdown> requires Popper (https://popper.js.org)")},closeMenu(e=!0){!this.open||(this.open=!1,this.focusedIndex=-1,this.focusableElements=null,this._popper&&(this._popper.destroy(),this._popper=null),e&&this.trigger&&this.trigger.focus())},openMenu(){this.disabled||(this._popper=a(this.trigger,this.menu,{placement:this.placement,strategy:this.fixed?"fixed":"absolute",modifiers:[{name:"offset",options:{offset:[0,this.offset]}},{name:"preventOverflow",options:{boundariesElement:this._root}}]}),this.open=!0)},toggleMenu(){if(this.open)return this.closeMenu();this.openMenu()},getFocusableElements(){return this.focusableElements!==null?this.focusableElements:this.focusableElements=this.menu.querySelectorAll(d)},focusNext(){if(this.disabled)return;if(!this.open)return this.openMenu(),this.$nextTick(()=>{this.focusNext()});const e=this.getFocusableElements();if(!e.length){this.focusedIndex=-1;return}this.focusedIndex++,this.focusedIndex+1>e.length&&(this.focusedIndex=0),r(e[this.focusedIndex],this.menu)},focusPrevious(){if(this.disabled)return;if(!this.open)return this.openMenu(),this.$nextTick(()=>{this.focusPrevious()});const e=this.getFocusableElements();if(!e.length){this.focusedIndex=-1;return}this.focusedIndex--,this.focusedIndex<0&&(this.focusedIndex=e.length-1),r(e[this.focusedIndex],this.menu)},focusFirst(){const e=this.getFocusableElements();if(!e.length){this.focusedIndex=-1;return}this.focusedIndex=0,r(e[this.focusedIndex],this.menu)},focusLast(){const e=this.getFocusableElements();if(!e.length){this.focusedIndex=-1;return}this.focusedIndex=e.length-1,r(e[this.focusedIndex],this.menu)}});function u(){var e;const s=document.head.querySelector('meta[name="csrf-token"]');return s?s.content:(e=window.livewire_token)!=null?e:void 0}class f{constructor(){this.headers={},this.method="POST"}usingMethod(e){return this.method=e,this}withHeaders(e){return this.headers=e,this}async send(e,t){const i=u(),o=await fetch(e,{method:this.method,body:JSON.stringify(t),credentials:"same-origin",headers:{"Content-Type":"application/json",Accept:"text/html, application/xhtml+xml",...this.headers,Referer:window.location.href,...i&&{"X-CSRF-TOKEN":i}}});return o.ok?o.json():(o.text().then(n=>{this.showHtmlModal(n)}),!1)}showHtmlModal(e){let t=document.createElement("html");t.innerHTML=e,t.querySelectorAll("a").forEach(n=>n.setAttribute("target","_top"));let i=document.getElementById("laravel-base-error");typeof i<"u"&&i!=null?i.innerHTML="":(i=document.createElement("div"),i.id="laravel-base-error",i.style.position="fixed",i.style.width="100vw",i.style.height="100vh",i.style.padding="50px",i.style.backgroundColor="rgba(0, 0, 0, .6)",i.style.zIndex=2e5);let o=document.createElement("iframe");o.style.backgroundColor="#17161A",o.style.borderRadius="5px",o.style.width="100%",o.style.height="100%",i.appendChild(o),document.body.prepend(i),document.body.style.overflow="hidden",o.contentWindow.document.open(),o.contentWindow.document.write(t.outerHTML),o.contentWindow.document.close(),i.addEventListener("click",()=>this.hideHtmlModal(i)),i.setAttribute("tabindex",0),i.addEventListener("keydown",n=>{n.key==="Escape"&&this.hideHtmlModal(i)}),i.focus()}hideHtmlModal(e){e.outerHTML="",document.body.style.overflow="visible"}}const p=s=>({userId:s.userId,impersonateUrl:s.impersonateUrl,stopImpersonateUrl:s.stopImpersonateUrl,connection:null,init(){this.connection=new f},async startImpersonating(){let e=null;if(e=await this.connection.send(this.impersonateUrl,{userId:this.userId}),e===!1)return;const t=(e==null?void 0:e.redirect)||null;if(t!==null){location.href=t;return}alert("Oops! Something went wrong.")},async stopImpersonating(){let e=null;if(e=await this.connection.usingMethod("DELETE").send(this.stopImpersonateUrl),e===!1)return;const t=(e==null?void 0:e.redirect)||null;if(t!==null){location.href=t;return}alert("Oops! Something went wrong.")}}),b=s=>({show:s.show||!1,id:s.id,init(){this.$watch("show",e=>{e?(document.body.classList.add("overflow-y-hidden"),setTimeout(()=>{this.autofocus()},100),this.$dispatch("modal-shown",this.id)):(document.body.classList.remove("overflow-y-hidden"),this.$dispatch("modal-closed",this.id))})},hideModal(){this.show=!1},focusables(){const e='a, button, input, textearea, select, details, [tabindex]:not([tabindex="-1"])';return[...this.$root.querySelectorAll(e)].filter(t=>!t.hasAttribute("disabled"))},autofocus(){const e="[autofocus], [focus]",i=[...this.$root.querySelectorAll(e)].filter(o=>!o.hasAttribute("disabled"))[0];i&&i.focus()},firstFocusable(){return this.focusables()[0]},lastFocusable(){return this.focusables().slice(-1)[0]},nextFocusable(){return this.focusables()[this.nextFocusableIndex()]||this.firstFocusable()},nextFocusableIndex(){return(this.focusables().indexOf(document.activeElement)+1)%(this.focusables().length+1)},prevFocusable(){return this.focusables()[this.prevFocusableIndex()]||this.lastFocusable()},prevFocusableIndex(){return Math.max(0,this.focusables().indexOf(document.activeElement))-1}}),m=()=>"serviceWorker"in navigator&&"PushManager"in window,w=s=>({notices:[],visible:[],timeShown:s.timeout||5e3,onclick:s.onclick||null,callbacks:{},onInit:s.onInit||null,init(){typeof this.onInit=="function"&&this.onInit()},registerCallback(e,t){return this.callbacks[e]=t,this},add(e){this.notices.push(e),this.fire(e.id)},fire(e){const t=this.notices.find(i=>i.id===e);!t||(t.defaultToBrowser?this.attemptBrowserNotification(t):this.visible.push(t),t.autoDismiss&&setTimeout(()=>{this.remove(e)},this.timeShown))},attemptBrowserNotification(e){switch(Notification.permission){case"granted":this.showBrowserNotification(e);break;case"default":m()?Notification.requestPermission().then(i=>{i==="granted"&&this.showBrowserNotification(e)}):this.visible.push(e);break;default:this.visible.push(e);break}},showBrowserNotification(e){const t=!e.autoDismiss,i=new Notification(e.title||"Notification",{body:e.text||e.body||"",data:{...e},requireInteraction:t});i.onclose=()=>{try{this.remove(i.data.id)}catch{}},i.onclick=()=>{i.close(),window.parent.focus();try{this.remove(i.data.id)}catch{}this.callbacks.onclick&&this.callbacks.onclick(i)}},remove(e){this.removeFrom("visible",e),this.removeFrom("notices",e)},removeFrom(e,t){const i=this[e].find(n=>n.id===t),o=this[e].indexOf(i);o>-1&&this[e].splice(o,1)}}),T=()=>({show:!1,observer:null,init(){this.observer=new IntersectionObserver(s=>{s.forEach(e=>{this.show=!e.isIntersecting})}),this.observer.observe(this.$el)},toTop(){window.scroll({top:0,left:0,behavior:"smooth"})}}),g=s=>({id:s.id,parentId:s.id,activeTab:null,tabs:[],init(){this.$nextTick(()=>this.focusTabsOnPageLoad())},findTab(e){return this.tabs.find(t=>t.id===e)},hasTab(e){return Boolean(this.findTab(e))},nonDisabledTabs(){return[...this.tabs].filter(e=>!e.disabled)},registerTab(e){!e.id||this.hasTab(e.id)||(this.tabs.push(e),e.active&&!this.activeTab&&(this.activeTab=e.id))},selectTab(e){const t=this.findTab(e);!t||t.id===this.activeTab||t.disabled||(this.activeTab=t.id,t.href&&t.href!=="#"&&this.navigateToTab(t))},navigateToTab(e){let t=e.href;try{const i=new URL(e.href),o=new URLSearchParams(i.search);o.set("_focusTabs","1"),i.search=o.toString(),t=i.toString()}catch{}window.location=t},focusTab(e){const t=this.$refs.nav.querySelector(`#tab-${e}`);t&&t.offsetParent&&t.focus()},focusTabsOnPageLoad(){try{if(new URLSearchParams(window.location.search).get("_focusTabs")!=="1")return;this.focusTab(this.activeTab),this.resetUrl()}catch{}},resetUrl(){const e=new URLSearchParams(window.location.search);e.delete("_focusTabs");const t=`${window.location.pathname}?${e.toString()}`;history.pushState(null,"",t)},onArrowLeft(){this._handleKeyboardNav(this.prevNonDisabledTab())},onArrowRight(){this._handleKeyboardNav(this.nextNonDisabledTab())},onHome(){this._handleKeyboardNav(this.nonDisabledTabs()[0])},onEnd(){this._handleKeyboardNav(this.lastNonDisabledTab())},_handleKeyboardNav(e){!e||(this.selectTab(e.id),this.focusTab(e.id))},nextNonDisabledTab(){return this.nonDisabledTabs()[this.nextNonDisabledTabIndex()]||this.nonDisabledTabs()[0]},nextNonDisabledTabIndex(){return(this.nonDisabledTabs().indexOf(this.findTab(this.activeTab))+1)%this.nonDisabledTabs().length},lastNonDisabledTab(){return this.nonDisabledTabs().slice(-1)[0]},prevNonDisabledTab(){return this.nonDisabledTabs()[this.prevNonDisabledTabIndex()]||this.lastNonDisabledTab()},prevNonDisabledTabIndex(){return Math.max(0,this.nonDisabledTabs().indexOf(this.findTab(this.activeTab)))-1}}),v=s=>({show:s.active,href:s.href,name:s.name,id:s.id,active:s.active,disabled:s.disabled,init(){this.$dispatch("register-tab",{id:this.id,name:this.name,href:this.href,active:this.active,disabled:this.disabled}),this.$watch("activeTab",e=>{this.show=e===this.id})}});let l;const x=1e6,y=s=>{do s+=Math.floor(Math.random()*x);while(document.getElementById(s));return s},I=20,E=10,N=s=>({placement:s.placement||"top",content:s.content||"",title:(s.content||"").replace(/(<([^>]+)>)/gi,""),tooltipId:null,_popper:null,init(){if(l=window.Popper?window.Popper.createPopper:window.createPopper,typeof l!="function")throw new TypeError("<x-tooltip> requires Popper (https://popper.js.org)")},hide(){const e=document.getElementById(this.tooltipId);e&&e.parentNode.removeChild(e),this._popper&&(this._popper.destroy(),this._popper=null),this.title=this.content,this.tooltipId=null},show(){if(this.title===null)return;this.title=null,this.tooltipId=y("tooltip");const e=document.createElement("div");e.setAttribute("class","tooltip"),e.setAttribute("role","tooltip"),e.setAttribute("id",this.tooltipId),e.innerHTML=this.content;const t=document.createElement("div");t.setAttribute("class","tooltip-arrow"),e.appendChild(t),document.body.append(e),this._popper=l(this.$el,e,{placement:this.placement,modifiers:[{name:"offset",options:{offset:({placement:i})=>["top","bottom"].includes(i)?[0,I]:[0,E]}},{name:"preventOverflow",options:{boundariesElement:this.$el}}]})},toggle(){if(this.title===null)return this.hide();this.show()}});document.addEventListener("alpine:init",()=>{Alpine.data("countdown",h),Alpine.data("dropdown",c),Alpine.data("impersonate",p),Alpine.data("modal",b),Alpine.data("notification",w),Alpine.data("scrollToTopButton",T),Alpine.data("tabs",g),Alpine.data("tab",v),Alpine.data("tooltip",N)});const S=({newTitle:s,separator:e=" | ",selector:t=".page-title"})=>{document.querySelector(t).innerText=s;const i=window.document.title.split(e);i.shift(),i.unshift(s),window.document.title=i.join(e)},M=(s,e=".breadcrumb-item--active")=>{document.querySelector(e).innerText=s};window.updatePageTitle=S;window.updateBreadcrumb=M;
