!function(factory){"function"==typeof define&&define.amd?define(factory):factory()}((function(){"use strict";var createPopper$1,countdown=function(options){return{days:options.days,hours:options.hours,minutes:options.minutes,seconds:options.seconds,expires:options.expires,interval:null,timer:{},init:function(){this.expires=new Date(1e3*this.expires).getTime(),this.timer={days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds},this.start()},formatCounter:function(number){return number.toString().padStart(2,"0")},start:function(){var _this=this;this.interval=setInterval((function(){var timeDistance=_this.expires-(new Date).getTime();if(timeDistance<0)return clearInterval(_this.interval),void _this.$dispatch("timer-finished");_this.timer.days=_this.formatCounter(Math.floor(timeDistance/864e5)),_this.timer.hours=_this.formatCounter(Math.floor(timeDistance%864e5/36e5)),_this.timer.minutes=_this.formatCounter(Math.floor(timeDistance%36e5/6e4)),_this.timer.seconds=_this.formatCounter(Math.floor(timeDistance%6e4/1e3))}),1e3)}}},focusElement=function(el,menu){try{var offsetTop=el.offsetTop;menu.scrollTop=offsetTop||0,el.focus({preventScroll:!0})}catch(e){}},dropdown=function(options){return{open:!1,fixed:options.fixed||!1,disabled:options.disabled||!1,placement:options.placement||"bottom-start",offset:options.offset,focusedIndex:-1,focusableElements:null,_root:null,_popper:null,get trigger(){return this.$refs.trigger?this.$refs.trigger:this._root.querySelector('[x-ref="trigger"]')},get menu(){return this.$refs.menu?this.$refs.menu:this._root.querySelector('[x-ref="menu"]')},init:function(){if(this._root=this.$root,"function"!=typeof(createPopper$1=window.Popper?window.Popper.createPopper:window.createPopper))throw new TypeError("<x-dropdown> requires Popper (https://popper.js.org)")},closeMenu:function(){var refocusTrigger=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.open&&(this.open=!1,this.focusedIndex=-1,this.focusableElements=null,this._popper&&(this._popper.destroy(),this._popper=null),refocusTrigger&&this.trigger&&this.trigger.focus())},openMenu:function(){this.disabled||(this._popper=createPopper$1(this.trigger,this.menu,{placement:this.placement,strategy:this.fixed?"fixed":"absolute",modifiers:[{name:"offset",options:{offset:[0,this.offset]}},{name:"preventOverflow",options:{boundariesElement:this._root}}]}),this.open=!0)},toggleMenu:function(){if(this.open)return this.closeMenu();this.openMenu()},getFocusableElements:function(){return null!==this.focusableElements?this.focusableElements:this.focusableElements=this.menu.querySelectorAll('.dropdown-item:not([disabled]), [role="menuitem"]:not([disabled])')},focusNext:function(){var _this=this;if(!this.disabled){if(!this.open)return this.openMenu(),this.$nextTick((function(){_this.focusNext()}));var elements=this.getFocusableElements();elements.length?(this.focusedIndex++,this.focusedIndex+1>elements.length&&(this.focusedIndex=0),focusElement(elements[this.focusedIndex],this.menu)):this.focusedIndex=-1}},focusPrevious:function(){var _this2=this;if(!this.disabled){if(!this.open)return this.openMenu(),this.$nextTick((function(){_this2.focusPrevious()}));var elements=this.getFocusableElements();elements.length?(this.focusedIndex--,this.focusedIndex<0&&(this.focusedIndex=elements.length-1),focusElement(elements[this.focusedIndex],this.menu)):this.focusedIndex=-1}},focusFirst:function(){var elements=this.getFocusableElements();elements.length?(this.focusedIndex=0,focusElement(elements[this.focusedIndex],this.menu)):this.focusedIndex=-1},focusLast:function(){var elements=this.getFocusableElements();elements.length?(this.focusedIndex=elements.length-1,focusElement(elements[this.focusedIndex],this.menu)):this.focusedIndex=-1}}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread2(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _regeneratorRuntime(){_regeneratorRuntime=function(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;defineProperty(this,"_invoke",{value:function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(void 0===method)return context.delegate=null,"throw"===methodName&&delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _defineProperty(obj,key,value){return(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _toPropertyKey(arg){var key=function(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}var createPopper,Connection=function(){function Connection(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Connection),this.headers={},this.method="POST"}var Constructor,protoProps,staticProps,_send;return Constructor=Connection,protoProps=[{key:"usingMethod",value:function(method){return this.method=method,this}},{key:"withHeaders",value:function(headers){return this.headers=headers,this}},{key:"send",value:(_send=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(uri,payload){var csrfToken,response,_this=this;return _regeneratorRuntime().wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _window$livewire_toke=void 0,tokenTag=void 0,tokenTag=document.head.querySelector('meta[name="csrf-token"]'),csrfToken=tokenTag?tokenTag.content:null!==(_window$livewire_toke=window.livewire_token)&&void 0!==_window$livewire_toke?_window$livewire_toke:void 0,_context.next=3,fetch(uri,{method:this.method,body:JSON.stringify(payload),credentials:"same-origin",headers:_objectSpread2(_objectSpread2({"Content-Type":"application/json",Accept:"text/html, application/xhtml+xml"},this.headers),{},{Referer:window.location.href},csrfToken&&{"X-CSRF-TOKEN":csrfToken})});case 3:if((response=_context.sent).ok){_context.next=7;break}return response.text().then((function(response){_this.showHtmlModal(response)})),_context.abrupt("return",!1);case 7:return _context.abrupt("return",response.json());case 8:case"end":return _context.stop()}var _window$livewire_toke,tokenTag}),_callee,this)}))),function(_x,_x2){return _send.apply(this,arguments)})},{key:"showHtmlModal",value:function(html){var _this2=this,page=document.createElement("html");page.innerHTML=html,page.querySelectorAll("a").forEach((function(a){return a.setAttribute("target","_top")}));var modal=document.getElementById("laravel-base-error");void 0!==modal&&null!=modal?modal.innerHTML="":((modal=document.createElement("div")).id="laravel-base-error",modal.style.position="fixed",modal.style.width="100vw",modal.style.height="100vh",modal.style.padding="50px",modal.style.backgroundColor="rgba(0, 0, 0, .6)",modal.style.zIndex=2e5);var iframe=document.createElement("iframe");iframe.style.backgroundColor="#17161A",iframe.style.borderRadius="5px",iframe.style.width="100%",iframe.style.height="100%",modal.appendChild(iframe),document.body.prepend(modal),document.body.style.overflow="hidden",iframe.contentWindow.document.open(),iframe.contentWindow.document.write(page.outerHTML),iframe.contentWindow.document.close(),modal.addEventListener("click",(function(){return _this2.hideHtmlModal(modal)})),modal.setAttribute("tabindex",0),modal.addEventListener("keydown",(function(e){"Escape"===e.key&&_this2.hideHtmlModal(modal)})),modal.focus()}},{key:"hideHtmlModal",value:function(modal){modal.outerHTML="",document.body.style.overflow="visible"}}],protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Connection}(),impersonate=function(options){return{userId:options.userId,impersonateUrl:options.impersonateUrl,stopImpersonateUrl:options.stopImpersonateUrl,connection:null,init:function(){this.connection=new Connection},startImpersonating:function(){var _this=this;return _asyncToGenerator(_regeneratorRuntime().mark((function _callee(){var _response,response,redirect;return _regeneratorRuntime().wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return response=null,_context.next=3,_this.connection.send(_this.impersonateUrl,{userId:_this.userId});case 3:if(!1!==(response=_context.sent)){_context.next=6;break}return _context.abrupt("return");case 6:if(null===(redirect=(null===(_response=response)||void 0===_response?void 0:_response.redirect)||null)){_context.next=10;break}return location.href=redirect,_context.abrupt("return");case 10:alert("Oops! Something went wrong.");case 11:case"end":return _context.stop()}}),_callee)})))()},stopImpersonating:function(){var _this2=this;return _asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){var _response2,response,redirect;return _regeneratorRuntime().wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return response=null,_context2.next=3,_this2.connection.usingMethod("DELETE").send(_this2.stopImpersonateUrl);case 3:if(!1!==(response=_context2.sent)){_context2.next=6;break}return _context2.abrupt("return");case 6:if(null===(redirect=(null===(_response2=response)||void 0===_response2?void 0:_response2.redirect)||null)){_context2.next=10;break}return location.href=redirect,_context2.abrupt("return");case 10:alert("Oops! Something went wrong.");case 11:case"end":return _context2.stop()}}),_callee2)})))()}}},modal=function(options){return{show:options.show||!1,id:options.id,init:function(){var _this=this;this.$watch("show",(function(value){value?(document.body.classList.add("overflow-y-hidden"),setTimeout((function(){_this.autofocus()}),100),_this.$dispatch("modal-shown",_this.id)):(document.body.classList.remove("overflow-y-hidden"),_this.$dispatch("modal-closed",_this.id))}))},hideModal:function(){this.show=!1},focusables:function(){return _toConsumableArray(this.$root.querySelectorAll('a, button, input, textearea, select, details, [tabindex]:not([tabindex="-1"])')).filter((function(el){return!el.hasAttribute("disabled")}))},autofocus:function(){var first=_toConsumableArray(this.$root.querySelectorAll("[autofocus], [focus]")).filter((function(el){return!el.hasAttribute("disabled")}))[0];first&&first.focus()},firstFocusable:function(){return this.focusables()[0]},lastFocusable:function(){return this.focusables().slice(-1)[0]},nextFocusable:function(){return this.focusables()[this.nextFocusableIndex()]||this.firstFocusable()},nextFocusableIndex:function(){return(this.focusables().indexOf(document.activeElement)+1)%(this.focusables().length+1)},prevFocusable:function(){return this.focusables()[this.prevFocusableIndex()]||this.lastFocusable()},prevFocusableIndex:function(){return Math.max(0,this.focusables().indexOf(document.activeElement))-1}}},notification=function(options){return{notices:[],visible:[],timeShown:options.timeout||5e3,onclick:options.onclick||null,callbacks:{},onInit:options.onInit||null,init:function(){"function"==typeof this.onInit&&this.onInit()},registerCallback:function(name,callback){return this.callbacks[name]=callback,this},add:function(notice){this.notices.push(notice),this.fire(notice.id)},fire:function(id){var _this=this,notification=this.notices.find((function(notice){return notice.id===id}));notification&&(notification.defaultToBrowser?this.attemptBrowserNotification(notification):this.visible.push(notification),notification.autoDismiss&&setTimeout((function(){_this.remove(id)}),this.timeShown))},attemptBrowserNotification:function(notification){var _this2=this;switch(Notification.permission){case"granted":this.showBrowserNotification(notification);break;case"default":"serviceWorker"in navigator&&"PushManager"in window?Notification.requestPermission().then((function(permission){"granted"===permission&&_this2.showBrowserNotification(notification)})):this.visible.push(notification);break;default:this.visible.push(notification)}},showBrowserNotification:function(notification){var _this3=this,requireInteraction=!notification.autoDismiss,browserNotification=new Notification(notification.title||"Notification",{body:notification.text||notification.body||"",data:_objectSpread2({},notification),requireInteraction:requireInteraction});browserNotification.onclose=function(){try{_this3.remove(browserNotification.data.id)}catch(error){}},browserNotification.onclick=function(){browserNotification.close(),window.parent.focus();try{_this3.remove(browserNotification.data.id)}catch(error){}_this3.callbacks.onclick&&_this3.callbacks.onclick(browserNotification)}},remove:function(id){this.removeFrom("visible",id),this.removeFrom("notices",id)},removeFrom:function(arrayName,id){var notice=this[arrayName].find((function(notice){return notice.id===id})),index=this[arrayName].indexOf(notice);index>-1&&this[arrayName].splice(index,1)}}},scrollToTopButton=function(){return{show:!1,observer:null,init:function(){var _this=this;this.observer=new IntersectionObserver((function(entries){entries.forEach((function(entry){_this.show=!entry.isIntersecting}))})),this.observer.observe(this.$el)},toTop:function(){window.scroll({top:0,left:0,behavior:"smooth"})}}},tabs=function(options){return{id:options.id,parentId:options.id,activeTab:null,tabs:[],init:function(){var _this=this;this.$nextTick((function(){return _this.focusTabsOnPageLoad()}))},findTab:function(id){return this.tabs.find((function(tab){return tab.id===id}))},hasTab:function(id){return Boolean(this.findTab(id))},nonDisabledTabs:function(){return _toConsumableArray(this.tabs).filter((function(tab){return!tab.disabled}))},registerTab:function(tab){tab.id&&!this.hasTab(tab.id)&&(this.tabs.push(tab),tab.active&&!this.activeTab&&(this.activeTab=tab.id))},selectTab:function(tabId){var tab=this.findTab(tabId);tab&&tab.id!==this.activeTab&&!tab.disabled&&(this.activeTab=tab.id,tab.href&&"#"!==tab.href&&this.navigateToTab(tab))},navigateToTab:function(tab){var uri=tab.href;try{var url=new URL(tab.href),searchParams=new URLSearchParams(url.search);searchParams.set("_focusTabs","1"),url.search=searchParams.toString(),uri=url.toString()}catch(e){}window.location=uri},focusTab:function(tabId){var link=this.$refs.nav.querySelector("#tab-".concat(tabId));link&&link.offsetParent&&link.focus()},focusTabsOnPageLoad:function(){try{if("1"!==new URLSearchParams(window.location.search).get("_focusTabs"))return;this.focusTab(this.activeTab),this.resetUrl()}catch(e){}},resetUrl:function(){var searchParams=new URLSearchParams(window.location.search);searchParams.delete("_focusTabs");var newRelativePathQuery="".concat(window.location.pathname,"?").concat(searchParams.toString());history.pushState(null,"",newRelativePathQuery)},onArrowLeft:function(){this._handleKeyboardNav(this.prevNonDisabledTab())},onArrowRight:function(){this._handleKeyboardNav(this.nextNonDisabledTab())},onHome:function(){this._handleKeyboardNav(this.nonDisabledTabs()[0])},onEnd:function(){this._handleKeyboardNav(this.lastNonDisabledTab())},_handleKeyboardNav:function(tab){tab&&(this.selectTab(tab.id),this.focusTab(tab.id))},nextNonDisabledTab:function(){return this.nonDisabledTabs()[this.nextNonDisabledTabIndex()]||this.nonDisabledTabs()[0]},nextNonDisabledTabIndex:function(){return(this.nonDisabledTabs().indexOf(this.findTab(this.activeTab))+1)%this.nonDisabledTabs().length},lastNonDisabledTab:function(){return this.nonDisabledTabs().slice(-1)[0]},prevNonDisabledTab:function(){return this.nonDisabledTabs()[this.prevNonDisabledTabIndex()]||this.lastNonDisabledTab()},prevNonDisabledTabIndex:function(){return Math.max(0,this.nonDisabledTabs().indexOf(this.findTab(this.activeTab)))-1}}},tab=function(options){return{show:options.active,href:options.href,name:options.name,id:options.id,active:options.active,disabled:options.disabled,init:function(){var _this=this;this.$dispatch("register-tab",{id:this.id,name:this.name,href:this.href,active:this.active,disabled:this.disabled}),this.$watch("activeTab",(function(tabId){_this.show=tabId===_this.id}))}}},tooltip=function(options){return{placement:options.placement||"top",content:options.content||"",title:(options.content||"").replace(/(<([^>]+)>)/gi,""),tooltipId:null,_popper:null,init:function(){if("function"!=typeof(createPopper=window.Popper?window.Popper.createPopper:window.createPopper))throw new TypeError("<x-tooltip> requires Popper (https://popper.js.org)")},hide:function(){var tooltip=document.getElementById(this.tooltipId);tooltip&&tooltip.parentNode.removeChild(tooltip),this._popper&&(this._popper.destroy(),this._popper=null),this.title=this.content,this.tooltipId=null},show:function(){if(null!==this.title){this.title=null,this.tooltipId=function(prefix){do{prefix+=Math.floor(1e6*Math.random())}while(document.getElementById(prefix));return prefix}("tooltip");var tooltip=document.createElement("div");tooltip.setAttribute("class","tooltip"),tooltip.setAttribute("role","tooltip"),tooltip.setAttribute("id",this.tooltipId),tooltip.innerHTML=this.content;var arrow=document.createElement("div");arrow.setAttribute("class","tooltip-arrow"),tooltip.appendChild(arrow),document.body.append(tooltip),this._popper=createPopper(this.$el,tooltip,{placement:this.placement,modifiers:[{name:"offset",options:{offset:function(_ref){var placement=_ref.placement;return["top","bottom"].includes(placement)?[0,20]:[0,10]}}},{name:"preventOverflow",options:{boundariesElement:this.$el}}]})}},toggle:function(){if(null===this.title)return this.hide();this.show()}}};document.addEventListener("alpine:init",(function(){Alpine.data("countdown",countdown),Alpine.data("dropdown",dropdown),Alpine.data("impersonate",impersonate),Alpine.data("modal",modal),Alpine.data("notification",notification),Alpine.data("scrollToTopButton",scrollToTopButton),Alpine.data("tabs",tabs),Alpine.data("tab",tab),Alpine.data("tooltip",tooltip)}));window.updatePageTitle=function(_ref){var newTitle=_ref.newTitle,_ref$separator=_ref.separator,separator=void 0===_ref$separator?" | ":_ref$separator,_ref$selector=_ref.selector,selector=void 0===_ref$selector?".page-title":_ref$selector;document.querySelector(selector).innerText=newTitle;var currentTitle=window.document.title.split(separator);currentTitle.shift(),currentTitle.unshift(newTitle),window.document.title=currentTitle.join(separator)},window.updateBreadcrumb=function(newTitle){var selector=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".breadcrumb-item--active";document.querySelector(selector).innerText=newTitle}}));
//# sourceMappingURL=laravel-base.js.map
