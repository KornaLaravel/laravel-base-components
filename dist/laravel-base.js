(()=>{"use strict";var e,t=function(e,t){try{var o=e.offsetTop;t.scrollTop=o||0,e.focus({preventScroll:!0})}catch(e){}};const o=function(o){return{open:!1,fixed:o.fixed||!1,disabled:o.disabled||!1,placement:o.placement||"bottom-start",offset:o.offset,focusedIndex:-1,focusableElements:null,_popper:null,get trigger(){return this.$refs.trigger?this.$refs.trigger:this.$root.querySelector('[x-ref="trigger"]')},get menu(){return this.$refs.menu?this.$refs.menu:this.$root.querySelector('[x-ref="menu"]')},init:function(){if("function"!=typeof(e=window.Popper?window.Popper.createPopper:window.createPopper))throw new TypeError("<x-dropdown> requires Popper (https://popper.js.org)")},closeMenu:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.open&&(this.open=!1,this.focusedIndex=-1,this.focusableElements=null,this._popper&&(this._popper.destroy(),this._popper=null),e&&this.trigger&&this.trigger.focus())},openMenu:function(){this.disabled||(this._popper=e(this.trigger,this.menu,{placement:this.placement,strategy:this.fixed?"fixed":"absolute",modifiers:[{name:"offset",options:{offset:[0,this.offset]}},{name:"preventOverflow",options:{boundariesElement:this.$root}}]}),this.open=!0)},toggleMenu:function(){if(this.open)return this.closeMenu();this.openMenu()},getFocusableElements:function(){return null!==this.focusableElements?this.focusableElements:this.focusableElements=this.$refs.menu.querySelectorAll('.dropdown-item:not([disabled]), [role="menuitem"]:not([disabled])')},focusNext:function(){var e=this;if(!this.disabled){if(!this.open)return this.openMenu(),this.$nextTick((function(){e.focusNext()}));var o=this.getFocusableElements();o.length?(this.focusedIndex++,this.focusedIndex+1>o.length&&(this.focusedIndex=0),t(o[this.focusedIndex],this.$refs.menu)):this.focusedIndex=-1}},focusPrevious:function(){var e=this;if(!this.disabled){if(!this.open)return this.openMenu(),this.$nextTick((function(){e.focusPrevious()}));var o=this.getFocusableElements();o.length?(this.focusedIndex--,this.focusedIndex<0&&(this.focusedIndex=o.length-1),t(o[this.focusedIndex],this.$refs.menu)):this.focusedIndex=-1}},focusFirst:function(){var e=this.getFocusableElements();e.length?(this.focusedIndex=0,t(e[this.focusedIndex],this.$refs.menu)):this.focusedIndex=-1},focusLast:function(){var e=this.getFocusableElements();e.length?(this.focusedIndex=e.length-1,t(e[this.focusedIndex],this.$refs.menu)):this.focusedIndex=-1}}},i=function(e){return{notices:[],visible:[],timeShown:e.timeout||5e3,add:function(e){this.notices.push(e),this.fire(e.id)},fire:function(e){var t=this,o=this.notices.find((function(t){return t.id===e}));o&&(this.visible.push(o),o.autoDismiss&&setTimeout((function(){t.remove(e)}),this.timeShown))},remove:function(e){this.removeFrom("visible",e),this.removeFrom("notices",e)},removeFrom:function(e,t){var o=this[e].find((function(e){return e.id===t})),i=this[e].indexOf(o);i>-1&&this[e].splice(i,1)}}},n=function(){return{show:!1,observer:null,init:function(){var e=this;this.observer=new IntersectionObserver((function(t){t.forEach((function(t){e.show=!t.isIntersecting}))})),this.observer.observe(this.$el)},toTop:function(){window.scroll({top:0,left:0,behavior:"smooth"})}}};var s;const r=function(e){return{placement:e.placement||"top",content:e.content||"",title:(e.content||"").replace(/(<([^>]+)>)/gi,""),tooltipId:null,_popper:null,init:function(){if("function"!=typeof(s=window.Popper?window.Popper.createPopper:window.createPopper))throw new TypeError("<x-tooltip> requires Popper (https://popper.js.org)")},hide:function(){console.log("i should hide");var e=document.getElementById(this.tooltipId);e&&e.parentNode.removeChild(e),this._popper&&(this._popper.destroy(),this._popper=null),this.title=this.content,this.tooltipId=null},show:function(){if(console.log("I should show"),null!==this.title){this.title=null,this.tooltipId=function(e){do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e}("tooltip");var e=document.createElement("div");e.setAttribute("class","tooltip"),e.setAttribute("role","tooltip"),e.setAttribute("id",this.tooltipId),e.innerHTML=this.content;var t=document.createElement("div");t.setAttribute("class","tooltip-arrow"),e.appendChild(t),document.body.append(e),this._popper=s(this.$el,e,{placement:this.placement,modifiers:[{name:"offset",options:{offset:function(e){var t=e.placement;return["top","bottom"].includes(t)?[0,20]:[0,10]}}},{name:"preventOverflow",options:{boundariesElement:this.$el}}]})}},toggle:function(){if(null===this.title)return this.hide();this.show()}}};document.addEventListener("alpine:init",(function(){Alpine.data("dropdown",o),Alpine.data("notification",i),Alpine.data("scrollToTopButton",n),Alpine.data("tooltip",r)}))})();